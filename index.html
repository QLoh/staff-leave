<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>勞動假別查詢</title>
  <style>
    body {
      font-family: Arial, "微軟正黑體", sans-serif;
      background-color: #f9f9f9;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
    }
    h2 { text-align: center; }
    select, button {
      font-size: 18px;
      padding: 8px;
      margin: 10px 0;
      width: 100%;
    }
    .box {
      margin-top: 15px;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fff;
    }
    .hidden { display: none; }
    .note { color: #b22222; font-size: 14px; margin-top: 8px; }
  </style>
</head>
<body>

  <h2>勞動假別查詢</h2>

  <!-- 假別選單 -->
  <label for="leaveType">選擇假別：</label>
  <select id="leaveType" onchange="showInfo()">
    <option value="">請選擇</option>
    <option value="marriage">婚假</option>
    <option value="annual">特休假</option>
    <option value="sick">病假</option>
    <option value="bereavement">喪假</option>
  </select>

  <!-- 適用情境 & 憑證 -->
  <div id="infoBox" class="box hidden">
    <p id="usage"></p>
    <p id="proof"></p>
    <button onclick="showResult()">查詢</button>
  </div>

  <!-- 查詢結果 -->
  <div id="resultBox" class="box hidden">
    <p id="days"></p>
    <p id="pay"></p>
    <p id="note"></p>
  </div>

  <!-- 部分工時計算公式 -->
  <div id="parttimeBox" class="box hidden">
    <h3>部分工時計算公式</h3>
    <p>部分工時假別 = 法定天數 × (每月工時 ÷ 174)</p>
    <p class="note">例：80 ÷ 174 ≈ 0.46 → 特休 3 天 × 0.46 = 約 1.4 天</p>
  </div>

  <script>
    const leaveData = {
      marriage: {
        usage: "📌 使用情境：本人結婚。",
        proof: "📝 憑證：結婚登記證明。",
        result: { days: "8日", pay: "✅ 有薪", note: "❌ 不得因休婚假影響全勤" }
      },
      annual: {
        usage: "📌 使用情境：勞工依年資享有特別休假。",
        proof: "📝 憑證：通常不需，但需事先排定並經主管同意。",
        result: { days: "依年資 3–30日", pay: "✅ 有薪", note: "❌ 不得因休假影響全勤" }
      },
      sick: {
        usage: "📌 使用情境：因疾病或受傷需要療養。",
        proof: "📝 憑證：醫師診斷證明或醫院證明文件。",
        result: { days: "每年不超過30日（部分有薪）", pay: "⚠️ 視住院/非住院而定", note: "✅ 可能影響全勤" }
      },
      bereavement: {
        usage: "📌 使用情境：直系或旁系親屬死亡。",
        proof: "📝 憑證：死亡證明或相關文件。",
        result: { days: "依親屬 3–8日", pay: "✅ 有薪", note: "❌ 不得因休假影響全勤" }
      }
    };

    function showInfo() {
      const type = document.getElementById("leaveType").value;
      const infoBox = document.getElementById("infoBox");
      const resultBox = document.getElementById("resultBox");
      const parttimeBox = document.getElementById("parttimeBox");

      // 清空下方
      resultBox.classList.add("hidden");
      parttimeBox.classList.add("hidden");

      if (type) {
        document.getElementById("usage").innerText = leaveData[type].usage;
        document.getElementById("proof").innerText = leaveData[type].proof;
        infoBox.classList.remove("hidden");
      } else {
        infoBox.classList.add("hidden");
      }
    }

    function showResult() {
      const type = document.getElementById("leaveType").value;
      if (!type) return;

      const data = leaveData[type].result;
      document.getElementById("days").innerText = `給假天數：${data.days}`;
      document.getElementById("pay").innerText = `是否給薪：${data.pay}`;
      document.getElementById("note").innerText = `補充：${data.note}`;

      document.getElementById("resultBox").classList.remove("hidden");
      document.getElementById("parttimeBox").classList.remove("hidden");
    }
  </script>

</body>
</html>
